<% if notice != nil %>
  <p class="alert alert-success" id="notice"><%= notice  %></p>
<% end %>

<h1><%= @task.task %></h1>

<ol class="breadcrumb">
  <li><%= link_to "Projects", projects_path %></li>
  <li><%= link_to @project.name, project_path(@project) %></li>
  <li><%= link_to "Tasks", project_tasks_path %></li>
  <li class="active">Show</li>
</ol>

<p>
  <strong>Due Date:</strong>
  <% if @task.due_date %>
    <%= @task.due_date.strftime("%B %e, %Y") %>
  <% else %>
    None
  <% end %>
</p>
<p>
  <strong>Complete?</strong>
  <%= @task.complete %>
</p>

<br>
<table class="table">
  <tbody>
    <% @task.comments.where(:created_at != nil).each do |comment| %>
        <tr>
          <td class="col-md-3"><%= link_to comment.user.full_name, user_path(comment.user_id) %>
            <br><%= time_ago_in_words(comment.created_at) %> ago
            </td>
          <td class="col-md-9"><%= comment.description %></td>
        </tr>
    <% end %>
  </tbody>
</table>
<%= render "shared/errors", model: @comment %>
<% if current_user %>
  <%= form_for [@project, @task, @comment] do |f| %>
    <%= f.label :description %>
    <%= f.text_area :description %>
    <%= f.submit %>
  <% end %>
<% end %>

<%= link_to 'Edit', edit_project_task_path(@project, @task)%> |
<%= link_to 'Back', project_tasks_path %>
